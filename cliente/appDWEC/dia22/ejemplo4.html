<!DOCTYPE html>
<html>
<head>
<title>DOM</title>
<style>
</style>
<script>
function enviarCredenciales(){
var nombre = document.getElementById('nombre').value;
var clave = document.getElementById('clave').value;
window.frames[0].postMessage(nombre + '--' + clave,'http://localhost:8080');
}
window.addEventListener('message',gestionarRecepcion);
function gestionarRecepcion(evento){
if (evento.origin == 'http://localhost:8080'){
if(evento.data == 'acreditacion correcta'){
document.body.innerHTML = '<h1>Bienvenido</h1>';
}
}
}
</script>
</head>
<body>
<label for='nombre'>Nombre:</label>
<input type='text' id='nombre' />
<br />
<label for='clave'>Clave:</label>
<input type='text' id='clave' />
<br />
<button onclick='enviarCredenciales();'>Acreditar</button>
<br />
<iframe name='acreditacion' src="http://localhost:8080/acreditacion.html"></iframe>
</body>
</html>